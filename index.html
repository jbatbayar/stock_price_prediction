<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meta Stock Price Prediction & Trading Strategy</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Meta Stock Price Prediction & Trading Strategy</h1>
        <h3 style="text-align: right;">Jessica Batbayar</h3>

        <div class="section">
            <h2>Overview</h2>
            <p>This project predicts Meta’s (META) stock price movements using machine learning and evaluates performance via backtesting.</p>
        </div>

        <div class="section">
            <h3>Key Results</h3>
            <ul>
                <li><strong>Total Profit:</strong> $9,401.00</li>
                <li><strong>Sharpe Ratio:</strong> 3.82</li>
                <li><strong>Max Drawdown:</strong> -6.51%</li>
            </ul>

            <h3>Model Performance</h3>
            <ul>
                <li><strong>Accuracy</strong>: 0.93</li>
                <li><strong>Precision</strong>: 0.80</li>
                <li><strong>Recall</strong>: 0.98</li>
                <li><strong>F1-Score</strong>: 0.88</li>
            </ul>
        </div>

        <div class="section">
            <h2>Key Learnings</h2>
            <ul>
                <li><strong>Balancing Precision and Recall:</strong> Lowering the prediction threshold improved recall but required careful tuning to avoid excessive false positives.</li>
                <li><strong>Risk Management:</strong> Adding stop-loss rules and holding periods reduced drawdowns and improved risk-adjusted returns.</li>
                <li><strong>Realism in Backtesting:</strong> Incorporating slippage and transaction costs made the strategy more realistic and credible.</li>
            </ul>
        </div>

        <div class="section">
            <h2>Visualizations</h2>
            <h3>Portfolio Performance Visualization</h3>
            <iframe src="portfolio_performance.html"></iframe>
        </div>

        <div class="section">
            <h3>Price vs Predictions</h3>
            <iframe src="price_vs_predictions.html"></iframe>
        </div>

        <div class="section">
            <h3>SHAP Feature Importance</h3>
            <img src="shap_summary.png" alt="SHAP Summary Plot">
        </div>

        <div class="section">
            <h2>Problem-Solving Journey</h2>
            <h3>1. Initial Challenges</h3>
            <ul>
                <li><strong>Imbalanced Dataset:</strong> The target variable (<code>Target = 1</code> if price rises by 1%) had a skewed distribution (e.g., 2174 instances of class 0 vs. 341 instances of class 1).</li>
                <li><strong>Overfitting:</strong> Early models achieved high accuracy (~84%) but always predicted class 0, leading to poor recall and F1-score.</li>
            </ul>

            <h3>2. Changes Made</h3>
            <ul>
            <h4>a. Addressing Class Imbalance</h4>
            <ul>
                <li>Class Weighting: Used <code>scale_pos_weight</code> in <code>XGBoost</code> to penalize misclassifying the minority class.</li>
                <li>Threshold Adjustment: Lowered the prediction threshold to <strong>0.3</strong> to increase recall.</li>
                <li>Feature Engineering: Added volatility, daily range and macroeconomic indicators to improve model performance.</li>
            </ul>
            </ul>

            <ul>
            <h4>b. Improving Backtesting Realism</h4>
            <ul>
                <li>Holding Periods: Increased holding periods from 1 day to <strong>5 days</strong> to capture larger price movements.</li>
                <li>Slippage: Added <strong>0.35%</strong> slippage to simulate real-world trading conditions.</li>
                <li>Transaction Costs: Included a <strong>0.1%</strong> fee per trade to account for brokerage costs.</li>
            </ul>
            </ul>

            <ul>
            <h4>c. Reducing Overfitting</h4>
            <ul>
                <li>Simplified Features: Reduced the number of features to focus on the most impactful ones (e.g., <code>RSI</code>, <code>MACD</code>, <code>Volatility</code>).</li>
                <li>Recent Data: Trained the model on data from <code>2023-01-01</code>–<code>2024-04-30</code> to ensure relevance to Meta’s current market behavior.</li>
            </ul>
            </ul>

            <ul>
            <h4>d. Iterative Refinement</h4>
            <ul>
                <li>Hyperparameter Tuning: Used <code>GridSearchCV</code> to optimize <code>XGBoost</code> parameters (<code>n_estimators</code>, <code>max_depth</code>, <code>learning_rate</code>).</li>
                <li>Validation: Tested the model on out-of-sample data (<code>2024-05-01</code>–<code>2025-02-06</code>) to ensure robustness.</li>
            </ul>
            </ul>
        </div>

        <div class="section">
            <h2>Feature Engineering</h2>
            <p>Selected features based on their relevance to stock price movements, including Moving Averages, RSI, MACD, Volatility, and market indicators like S&P 500 Returns and VIX.</p>
            <table>
                <tr><th>Feature</th><th>Why</th><th>Reasoning</th></tr>
                <tr><td><code>MA_10_Return</code></td><td>10-day window captures short-term trends without being too noisy.</td><td>Helps identify momentum or mean-reversion patterns.</td></tr>
                <tr><td><code>RSI_14_Return</code></td><td>Momentum oscillator indicating overbought/oversold conditions.</td><td>14-day period balances responsiveness with stability.</td></tr>
                <tr><td><code>MACD_Hist</code></td><td>Trend-following indicator showing moving average relationship.</td><td>Histogram captures trend strength.</td></tr>
                <tr><td><code>Volatility_Return</code></td><td>10-day rolling standard deviation measures risk.</td><td>Aligns with short-term trading strategies.</td></tr>
                <tr><td><code>Volume_MA_10</code></td><td>10-day moving average smooths volume fluctuations.</td><td>Indicates strength of price movements.</td></tr>
                <tr><td><code>Range</code></td><td>Daily high-low reflects intraday volatility.</td><td>Identifies significant price movements.</td></tr>
                <tr><td><code>SP500_Return</code></td><td>Captures broader market influence on Meta.</td><td>Shows market-wide trends and sentiment.</td></tr>
                <tr><td><code>VIX_MA_10</code></td><td>10-day moving average smooths market volatility (VIX).</td><td>Captures investor sentiment.</td></tr>
            </table>
        </div>

        <div class="section">
            <h2>Model Selection</h2>
            <h3>Why XGBoost?</h3>
            <ul>
                <li><strong>Handles Imbalanced Data:</strong> <code>XGBoost</code>’s <code>scale_pos_weight</code> parameter effectively addresses class imbalance.</li>
                <li><strong>Non-Linear Relationships:</strong> Captures complex patterns in stock price data.</li>
                <li><strong>Interpretability:</strong> Feature importance scores (e.g., SHAP values) provide insights into model decisions.</li>
                <li><strong>Performance:</strong> Concluded that it consistently outperforms other models after numerous testing (e.g., <code>Random Forest</code>, <code>Logistic Regression</code>) on structured data.</li>
            </ul>
        </div>

        <div class="section">
            <h2>Data Splits & Target Variable</h2>
            <p><strong>Data After 2023:</strong> 
                <ul>
                    <li>Data from 2015 to 2025 was collected originally.</li>
                    <li>Focused on recent data during training and testing, ensuring relevance to Meta’s current market behavior.</li>
                </ul>
            <strong>Target Definition:</strong> Price increase by 1% to focus on meaningful price movements.</p>
        </div>
    </div>
</body>
</html>
